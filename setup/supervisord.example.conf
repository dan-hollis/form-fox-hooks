[program:ff]
command=<APP_HOME>/.venv/bin/gunicorn -c gunicorn.conf.py run:app
directory=<APP_HOME>
user=ffuser
autostart=true
autorestart=true
autorestart_delay=5
startretries=3
stopasgroup=true
killasgroup=true

# Supervisord logs
stdout_logfile=<APP_HOME>/logs/supervisor.log
stderr_logfile=<APP_HOME>/logs/supervisor_error.log
stdout_logfile_maxbytes=10MB
stderr_logfile_maxbytes=10MB
stdout_logfile_backups=5
stderr_logfile_backups=5

# Redirect stdout/stderr to capture any remaining print statements
redirect_stderr=true
stdout_capture_maxbytes=1MB
stderr_capture_maxbytes=1MB

loglevel=debug

# Environment variables
environment=PYTHONPATH="<APP_HOME>"
